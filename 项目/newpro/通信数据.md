# 描述
## 本地控制
1. 急停按钮（本地启停）-input：本地紧急停止，清除回零标志，信号同步给PLC
	- 急停复位后自动做一次回零动作
2. 本地/远程-input：控制源切换，屏蔽另一个的控制
3. 高低速切换-input：切换滚轮速度，通过滚轮控制卡上的拨码开关确定具体速度
	- 通过RS485可以无极调整滚轮速度
4. 左/中/右-input：控制所有轴的方向，左右角度需要参数设置
5. 本地老化测试-input：不停地循环左中右控制，检测机械
6. 滚筒报警信号-input：保持，直到报警消除，需要反馈给PLC
7. 伺服驱动器报警信号input：保持，直到报警消除，需要反馈给PLC，同时给伺服驱动器复位信号，尝试复位
8. 伺服驱动器复位信号output：伺服驱动器复位（不一定能复位成功，需要手动复位）
9. 回零成功信号-output：保持，直到下次回零操作

## 远程控制
1. 回零信号：触发本地回零，尝试回零
2. 左右信号：两个信号，需要保持，否则自动复原到中间
3. 高低速信号：两个信号，一个是低速，两个是高速
4. 复位信号：伺服驱动器复位（不一定能复位成功，需要手动复

## 参数设置 --- 串口
1. 轴数：本地伺服电机数（1-5）
2. 不同轴之间的延迟：单位ms（轴数>1）
3. 回零补偿：因机械安装引起的零点误差（1-5）
4. 左右角度：0-180°，用于确定左右偏转的角度

## 其他
1. 远程控制同时支持PN协议和IO控制

## 电箱面板
1. 电源指示灯
2. 故障指示灯
3. 回零完成指示灯
4. 急停指示灯
5. 本地/远程 ， 切换旋钮
6. 本地高低速切换 ， 切换旋钮
7. 左/中/右，三位旋钮
8. 本地老化测试，切换旋钮
9. 黄色复位旋钮，一位点动旋钮
10. 急停，蘑菇头旋钮

# 实例
## 来自控制源的输入
```c
typedef struct {
    uint8_t ctr_type; //0-io, 1-PN
    union data
    {

        uint8_t raw;
        struct
        {
            uint8_t go_left_sign:1;
            uint8_t go_right_sign:1;
            uint8_t speed_sign:2; //11-高速; 01/10/00低速
            uint8_t homing_sign:1;
            uint8_t motor_ctr_reset_sign:1;
            uint8_t reserved:2;
        }st;
    };
}input_from_ctr;
```
## 给与控制源的输出
```c
typedef struct {
    uint8_t raw;
    struct
    {
        uint8_t emstop_sign:1;
        uint8_t roller_alarm:1; // 滚筒报警信号
        uint8_t servo_drive_alarm:1; // 伺服驱动器报警信号，保持，直到报警消除
        uint8_t homing_success_signal:1; //回零成功信号，保持，直到下次回零
        uint8_t reserved:4;
    }st;
}output_to_ctr;
```